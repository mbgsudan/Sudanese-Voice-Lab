<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Ù…Ù†ØµØ© ØµÙˆØªÙ†Ø§ - Ø§Ù„ØªØ³Ø¬ÙŠÙ„</title>
<style>
  body {margin:0;font-family:'Cairo',sans-serif;background:#0e0e10;color:#eee;
        display:flex;flex-direction:column;align-items:center;justify-content:center;
        height:100vh;}
  .box {background:#15171e;padding:25px;border-radius:16px;box-shadow:0 6px 25px rgba(0,0,0,.4);
        width:90%;max-width:420px;text-align:center;}
  h1 {color:#00ffa2;font-size:22px;margin:0 0 8px;}
  p {color:#ccc;font-size:15px;}
  textarea {width:100%;padding:10px;border-radius:10px;border:none;background:#222;color:#fff;
            font-size:15px;margin-top:10px;}
  button {width:100%;padding:14px;margin-top:10px;border:none;border-radius:10px;font-size:16px;
          font-weight:bold;cursor:pointer;transition:.3s;}
  #start{background:#00ffa2;color:#111;}
  #stop{background:#ff4747;color:#fff;}
  #download{background:#5865f2;color:#fff;}
  #start:hover{background:#00cc88;}
  #stop:hover{background:#cc3333;}
  #download:hover{background:#4753c7;}
  audio{width:100%;margin-top:15px;border-radius:10px;}
  footer{margin-top:20px;font-size:13px;color:#777;}
</style>
</head>
<body>
<div class="box">
  <h1>ğŸ™ï¸ Ù…Ø´Ø±ÙˆØ¹ ØµÙˆØªÙ†Ø§</h1>
  <p>Ø§Ù‚Ø±Ø£ Ø§Ù„Ù†Øµ Ø¨ØµÙˆØª ÙˆØ§Ø¶Ø­ Ø¨Ø§Ù„Ù„Ù‡Ø¬Ø© Ø§Ù„Ø³ÙˆØ¯Ø§Ù†ÙŠØ©.</p>
  <textarea id="scriptText">Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ…ØŒ Ø£Ù†Ø§ Ø£Ø´Ø§Ø±Ùƒ ÙÙŠ Ù…Ù†ØµØ© ØµÙˆØªÙ†Ø§ Ù„ØªØ¯Ø±ÙŠØ¨ Ø£ÙˆÙ„ ØµÙˆØª Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø¨Ø§Ù„Ù„Ù‡Ø¬Ø© Ø§Ù„Ø³ÙˆØ¯Ø§Ù†ÙŠØ©.</textarea>
  <button id="start">Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ğŸ¤</button>
  <button id="stop" disabled>Ø¥ÙŠÙ‚Ø§Ù â¹ï¸</button>
  <audio id="audio" controls></audio>
  <button id="download" disabled>Ø­ÙØ¸ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ â¬‡ï¸</button>
  <footer>Â© 2025 Ù…Ù†ØµØ© ØµÙˆØªÙ†Ø§ | Sudanese Voice Lab</footer>
</div>
<script>
let recorder, chunks=[];
const startBtn=document.getElementById('start');
const stopBtn=document.getElementById('stop');
const audioEl=document.getElementById('audio');
const downloadBtn=document.getElementById('download');

startBtn.onclick=async()=>{
  const stream=await navigator.mediaDevices.getUserMedia({audio:true});
  recorder=new MediaRecorder(stream);
  recorder.start();
  chunks=[];
  recorder.ondataavailable=e=>chunks.push(e.data);
  recorder.onstop=()=>{
    const blob=new Blob(chunks,{type:'audio/webm'});
    const url=URL.createObjectURL(blob);
    audioEl.src=url;
    const a=document.createElement('a');
    const ts=new Date().toISOString().replace(/[:.]/g,'-');
    a.download=`sawtna_${ts}.webm`; a.href=url;
    downloadBtn.onclick=()=>a.click();
    downloadBtn.disabled=false;
  };
  startBtn.disabled=true; stopBtn.disabled=false;
};
stopBtn.onclick=()=>{recorder.stop();startBtn.disabled=false;stopBtn.disabled=true;};
</script>
</body>
</html>
