<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุตูุญุฉ ุงููุฑุงุฌุนุฉ - ููุตุฉ ุตูุชูุง</title>
    <meta name="description" content="ููุญุฉ ุฅุฏุงุฑุฉ ููุตุฉ ุตูุชูุง ููุฑุงุฌุนุฉ ุงูุชุณุฌููุงุช ูุฅุฏุงุฑุฉ ุงููุชุญุฏุซูู">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="admin.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@200;300;400;600;700;900&family=Tajawal:wght@200;300;400;500;700;900&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- ุดุฑูุท ุงูุชููู ุงูุนููู -->
        <header class="navbar">
            <div class="nav-container">
                <div class="nav-brand">
                    <img src="logo.png" alt="ุดุนุงุฑ ููุตุฉ ุตูุชูุง" class="logo" onerror="this.style.display='none'">
                    <span class="brand-text">ููุตุฉ ุตูุชูุง</span>
                </div>
                <nav class="nav-menu">
                    <a href="index.html" class="nav-link">ุงูุฑุฆูุณูุฉ</a>
                    <a href="record.html" class="nav-link">ุงูุชุณุฌูู</a>
                    <a href="follow-up.html" class="nav-link">ุงููุชุงุจุนุฉ</a>
                    <a href="admin.html" class="nav-link active">ุงููุฑุงุฌุนุฉ</a>
                </nav>
                <button class="mobile-menu-btn" id="mobileMenuBtn">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </header>

        <!-- ุงููุงุฆูุฉ ุงููุญูููุฉ -->
        <div class="mobile-menu" id="mobileMenu">
            <div class="mobile-menu-content">
                <a href="index.html" class="mobile-nav-link">ุงูุฑุฆูุณูุฉ</a>
                <a href="record.html" class="mobile-nav-link">ุงูุชุณุฌูู</a>
                <a href="follow-up.html" class="mobile-nav-link">ุงููุชุงุจุนุฉ</a>
                <a href="admin.html" class="mobile-nav-link active">ุงููุฑุงุฌุนุฉ</a>
            </div>
        </div>

        <!-- ูุงูุฐุฉ ุชุณุฌูู ุงูุฏุฎูู -->
        <div class="modal" id="loginModal">
            <div class="modal-content">
                <div class="login-header">
                    <h2>๐ ุชุณุฌูู ุฏุฎูู ุงูุฅุฏุงุฑุฉ</h2>
                    <p>ุฃุฏุฎู ูููุฉ ุงููุฑูุฑ ูููุตูู ุฅูู ููุญุฉ ุงูุฅุฏุงุฑุฉ</p>
                </div>
                
                <form id="loginForm">
                    <div class="form-group">
                        <label for="adminPassword" class="form-label">ูููุฉ ุงููุฑูุฑ</label>
                        <input type="password" id="adminPassword" class="form-input" 
                               placeholder="ุฃุฏุฎู ูููุฉ ุงููุฑูุฑ" required>
                    </div>
                    
                    <button type="submit" class="btn btn-primary btn-full">
                        ๐ช ุฏุฎูู
                    </button>
                </form>
            </div>
        </div>

        <!-- ุงููุญุชูู ุงูุฑุฆูุณู -->
        <main class="main-content" id="adminContent" style="display: none;">
            <div class="admin-container">
                <!-- ุฑุฃุณ ุงูุตูุญุฉ -->
                <div class="admin-header">
                    <div class="header-content">
                        <h1 class="page-title">โ๏ธ ููุญุฉ ุฅุฏุงุฑุฉ ููุตุฉ ุตูุชูุง</h1>
                        <p class="page-description">ูุฑุงุฌุนุฉ ุงูุชุณุฌููุงุช ูุฅุฏุงุฑุฉ ุงููุชุญุฏุซูู</p>
                    </div>
                    <button id="logoutBtn" class="btn btn-secondary">
                        ๐ช ุฎุฑูุฌ
                    </button>
                </div>

                <!-- ุงูุชุจููุจุงุช -->
                <div class="admin-tabs">
                    <button class="tab-btn active" data-tab="recordings">
                        ๐ผ ุงูุชุณุฌููุงุช
                    </button>
                    <button class="tab-btn" data-tab="speakers">
                        ๐ฅ ุงููุชุญุฏุซูู
                    </button>
                    <button class="tab-btn" data-tab="analytics">
                        ๐ ุงูุฅุญุตุงุฆูุงุช
                    </button>
                </div>

                <!-- ุชุจููุจ ุงูุชุณุฌููุงุช -->
                <div id="recordingsTab" class="tab-content active">
                    <div class="section-header">
                        <h2 class="section-title">ูุฑุงุฌุนุฉ ุงูุชุณุฌููุงุช</h2>
                        <div class="section-actions">
                            <select id="adminStatusFilter" class="filter-select">
                                <option value="">ุฌููุน ุงูุญุงูุงุช</option>
                                <option value="pending">ููุฏ ุงููุฑุงุฌุนุฉ โณ</option>
                                <option value="approved">ุชู ุงููุจูู โ</option>
                                <option value="rejected">ุชู ุงูุฑูุถ โ</option>
                            </select>
                        </div>
                    </div>
                    
                    <div id="adminRecordingsContainer" class="admin-recordings">
                        <div class="loading-message">
                            <div class="loading"></div>
                            <p>ุฌุงุฑู ุชุญููู ุงูุชุณุฌููุงุช...</p>
                        </div>
                    </div>
                </div>

                <!-- ุชุจููุจ ุงููุชุญุฏุซูู -->
                <div id="speakersTab" class="tab-content">
                    <div class="section-header">
                        <h2 class="section-title">ุฅุฏุงุฑุฉ ุงููุชุญุฏุซูู</h2>
                        <button id="addSpeakerFromAdmin" class="btn btn-primary">
                            โ ุฅุถุงูุฉ ูุชุญุฏุซ ุฌุฏูุฏ
                        </button>
                    </div>
                    
                    <div id="adminSpeakersContainer" class="admin-speakers">
                        <div class="loading-message">
                            <div class="loading"></div>
                            <p>ุฌุงุฑู ุชุญููู ุงููุชุญุฏุซูู...</p>
                        </div>
                    </div>
                </div>

                <!-- ุชุจููุจ ุงูุฅุญุตุงุฆูุงุช -->
                <div id="analyticsTab" class="tab-content">
                    <div class="section-header">
                        <h2 class="section-title">ุงูุฅุญุตุงุฆูุงุช ูุงูุชูุงุฑูุฑ</h2>
                    </div>
                    
                    <!-- ุฅุญุตุงุฆูุงุช ุนุงูุฉ -->
                    <div class="analytics-overview">
                        <div class="analytics-cards">
                            <div class="analytics-card">
                                <div class="card-icon">๐ค</div>
                                <div class="card-content">
                                    <div class="card-number" id="totalAdminRecordings">0</div>
                                    <div class="card-label">ุฅุฌูุงูู ุงูุชุณุฌููุงุช</div>
                                </div>
                            </div>
                            
                            <div class="analytics-card">
                                <div class="card-icon">๐ฅ</div>
                                <div class="card-content">
                                    <div class="card-number" id="totalAdminSpeakers">0</div>
                                    <div class="card-label">ุฅุฌูุงูู ุงููุชุญุฏุซูู</div>
                                </div>
                            </div>
                            
                            <div class="analytics-card">
                                <div class="card-icon">โฑ๏ธ</div>
                                <div class="card-content">
                                    <div class="card-number" id="totalAdminDuration">0</div>
                                    <div class="card-label">ุฅุฌูุงูู ุงููุฏุฉ (ุฏูุงุฆู)</div>
                                </div>
                            </div>
                            
                            <div class="analytics-card">
                                <div class="card-icon">โ</div>
                                <div class="card-content">
                                    <div class="card-number" id="approvalRate">0%</div>
                                    <div class="card-label">ูุนุฏู ุงููุจูู</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ุงูุฑุณูู ุงูุจูุงููุฉ -->
                    <div class="charts-section">
                        <div class="chart-container">
                            <h3>ุงูุชูุฒูุน ุญุณุจ ุงูุฌูุณ</h3>
                            <div id="genderChart" class="chart"></div>
                        </div>
                        
                        <div class="chart-container">
                            <h3>ุงูุชูุฒูุน ุญุณุจ ุงูููุฌุฉ</h3>
                            <div id="dialectChart" class="chart"></div>
                        </div>
                        
                        <div class="chart-container">
                            <h3>ุงูุชูุฒูุน ุญุณุจ ุงูุญุงูุฉ</h3>
                            <div id="statusChart" class="chart"></div>
                        </div>
                        
                        <div class="chart-container">
                            <h3>ุงูุชูุฒูุน ุญุณุจ ุงูุนูุฑ</h3>
                            <div id="ageChart" class="chart"></div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- ูุงูุฐุฉ ุฅุถุงูุฉ ูุชุญุฏุซ -->
        <div class="modal" id="addSpeakerAdminModal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>โ ุฅุถุงูุฉ ูุชุญุฏุซ ุฌุฏูุฏ</h2>
                    <button type="button" class="close-btn" id="closeAdminSpeakerModal">&times;</button>
                </div>
                
                <form id="addAdminSpeakerForm">
                    <div class="form-group">
                        <label for="adminSpeakerName" class="form-label">ุงูุงุณู ุงููุงูู</label>
                        <input type="text" id="adminSpeakerName" class="form-input" required 
                               placeholder="ุฃุฏุฎู ุงุณู ุงููุชุญุฏุซ">
                    </div>
                    
                    <div class="form-group">
                        <label for="adminSpeakerGender" class="form-label">ุงูุฌูุณ</label>
                        <select id="adminSpeakerGender" class="form-input" required>
                            <option value="">ุงุฎุชุฑ ุงูุฌูุณ</option>
                            <option value="male">ุฐูุฑ</option>
                            <option value="female">ุฃูุซู</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="adminSpeakerAge" class="form-label">ุงูุนูุฑ</label>
                        <select id="adminSpeakerAge" class="form-input" required>
                            <option value="">ุงุฎุชุฑ ุงููุฆุฉ ุงูุนูุฑูุฉ</option>
                            <option value="18-25">18-25 ุณูุฉ</option>
                            <option value="26-35">26-35 ุณูุฉ</option>
                            <option value="36-45">36-45 ุณูุฉ</option>
                            <option value="46-55">46-55 ุณูุฉ</option>
                            <option value="56+">ุฃูุซุฑ ูู 56 ุณูุฉ</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="adminSpeakerDialect" class="form-label">ุงูููุฌุฉ</label>
                        <select id="adminSpeakerDialect" class="form-input" required>
                            <option value="">ุงุฎุชุฑ ุงูููุฌุฉ</option>
                            <option value="khartoum">ุฎุฑุทูู</option>
                            <option value="gezira">ุงูุฌุฒูุฑุฉ</option>
                            <option value="kassala">ูุณูุง</option>
                            <option value="darfur">ุฏุงุฑููุฑ</option>
                            <option value="kordofan">ูุฑุฏูุงู</option>
                            <option value="white_nile">ุงูููู ุงูุฃุจูุถ</option>
                            <option value="blue_nile">ุงูููู ุงูุฃุฒุฑู</option>
                            <option value="northern">ุงูุดูุงููุฉ</option>
                            <option value="red_sea">ุงูุจุญุฑ ุงูุฃุญูุฑ</option>
                            <option value="other">ุฃุฎุฑู</option>
                        </select>
                    </div>
                    
                    <div class="modal-actions">
                        <button type="button" class="btn btn-secondary" id="cancelAdminSpeakerBtn">ุฅูุบุงุก</button>
                        <button type="submit" class="btn btn-primary">ุญูุธ ุงููุชุญุฏุซ</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- ูุงูุฐุฉ ุชุดุบูู ุงูุตูุช ููุฅุฏุงุฑุฉ -->
        <div class="modal" id="adminAudioModal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>๐ง ูุฑุงุฌุนุฉ ุงูุชุณุฌูู</h2>
                    <button type="button" class="close-btn" id="closeAdminAudioModal">&times;</button>
                </div>
                
                <div class="admin-audio-player">
                    <audio id="adminAudioPlayer" controls></audio>
                    <div class="audio-details" id="adminAudioDetails">
                        <!-- ูุนูููุงุช ุงูุชุณุฌูู -->
                    </div>
                    <div class="audio-actions">
                        <button id="approveFromModal" class="btn btn-approve">โ ูุจูู</button>
                        <button id="rejectFromModal" class="btn btn-reject">โ ุฑูุถ</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ุชุฐููู ุงูุตูุญุฉ -->
        <footer class="footer">
            <div class="container">
                <div class="footer-bottom">
                    <p>ุชู ุงูุฅูุดุงุก ุจูุงุณุทุฉ ูุญูุฏ ุจุงุจูุฑ ยฉ 2024</p>
                </div>
            </div>
        </footer>
    </div>

    <!-- ุงูุฅุดุนุงุฑุงุช -->
    <div class="notification-container" id="notificationContainer"></div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="script.js"></script>
    <script src="admin.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.39.8/dist/umd/supabase.min.js"></script>
<script src="config.js"></script>
<script src="script.js"></script>
<script src="record.js"></script>
</body>
</html>
